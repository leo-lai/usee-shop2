webpackJsonp([28,34],{143:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isNotice:!0,userInfo:{}}},methods:{notify:function(){var t=this;this.isNotice=!this.isNotice,this.$mui.showWaiting(),this.$server.user.notify(Number(this.isNotice)).then(function(e){var i=e.data;i||(t.$mui.confirm("接收消息通知需要绑定微信，请授权同步微信信息","开启通知失败",["取消","绑定"],function(e){1==e.index&&t.refreshUserInfo()}),t.isNotice=!t.isNotice)}).catch(function(){t.isNotice=!t.isNotice}).finally(function(){t.$mui.hideWaiting()})},refreshUserInfo:function(){this.$device.isWechat?window.location.replace(this.$server.getGrantUrl("/me/setting",void 0,"snsapi_userinfo")):this.$mui.toast("请使用微信浏览器打开")},logout:function(){var t=this;this.$mui.confirm("是否退出登录？",null,null,function(e){1==e.index&&t.$server.logout(!1,"/me")})}},created:function(){var t=this;this.$route.query.code&&this.$device.isWechat&&(this.$mui.showWaiting("刷新中..."),this.$server.user.resetWxInfo(this.$route.query.code).then(function(e){e.data;t.$mui.toast("同步成功"),t.$storage.local.remove("qrcode_img"),t.$link("/me","page-out","replace")}).finally(function(){t.$mui.hideWaiting()})),this.loading=!0,this.$server.user.getInfo().then(function(e){var i=e.data;t.isNotice=0!=i.notify}).finally(function(){t.loading=!1})}}},237:function(t,e,i){e=t.exports=i(2)(),e.push([t.id,'.l-about-contact[data-v-397697d6]{background:#ff784e no-repeat 50% 50%;background-size:100% 100%;text-align:center;color:#fff;padding:1rem 0}.l-about-contact h3[data-v-397697d6]{margin-bottom:.375rem}.l-about-contact h3[data-v-397697d6]:after{content:"";display:block;width:1rem;margin:.125rem auto 0;height:.1rem;background:#fff}.l-about-contact p[data-v-397697d6]{font-size:.75rem;text-align:left;width:9rem;margin:auto}.l-about-contact a[data-v-397697d6]{color:#fff}.l-about-item[data-v-397697d6]{overflow:hidden;background:#fff;padding:.5rem 0}.l-about-item ._tit[data-v-397697d6]{text-align:center;color:#ff784e;margin:.75rem 0}.l-about-item ._tit[data-v-397697d6]:after{content:"";display:block;width:1rem;margin:.125rem auto 0;height:.1rem;background:#ff784e}.l-about-item ._cont[data-v-397697d6]{margin:.75rem;font-size:.75rem}.l-about-item ._cont p[data-v-397697d6]{text-indent:2rem}.l-about-item ._cont ul[data-v-397697d6]{list-style-type:decimal;padding:0 0 0 1rem}',"",{version:3,sources:["/./src/pages/me-setting.vue"],names:[],mappings:"AACA,kCAAkC,qCAAqC,0BAA0B,kBAAkB,WAAW,cAAc,CAC3I,AACD,qCAAqC,qBAAqB,CACzD,AACD,2CAA2C,WAAW,cAAc,WAAW,sBAAsB,aAAa,eAAe,CAChI,AACD,oCAAoC,iBAAiB,gBAAgB,WAAW,WAAW,CAC1F,AACD,oCAAoC,UAAU,CAC7C,AACD,+BAA+B,gBAAgB,gBAAgB,eAAe,CAC7E,AACD,qCAAqC,kBAAkB,cAAc,eAAe,CACnF,AACD,2CAA2C,WAAW,cAAc,WAAW,sBAAsB,aAAa,kBAAkB,CACnI,AACD,sCAAsC,cAAc,gBAAgB,CACnE,AACD,wCAAwC,gBAAgB,CACvD,AACD,yCAAyC,wBAAwB,kBAAkB,CAClF",file:"me-setting.vue",sourcesContent:["\n.l-about-contact[data-v-397697d6]{background:#ff784e no-repeat 50% 50%;background-size:100% 100%;text-align:center;color:#fff;padding:1rem 0\n}\n.l-about-contact h3[data-v-397697d6]{margin-bottom:.375rem\n}\n.l-about-contact h3[data-v-397697d6]:after{content:'';display:block;width:1rem;margin:.125rem auto 0;height:.1rem;background:#fff\n}\n.l-about-contact p[data-v-397697d6]{font-size:.75rem;text-align:left;width:9rem;margin:auto\n}\n.l-about-contact a[data-v-397697d6]{color:#fff\n}\n.l-about-item[data-v-397697d6]{overflow:hidden;background:#fff;padding:.5rem 0\n}\n.l-about-item ._tit[data-v-397697d6]{text-align:center;color:#ff784e;margin:.75rem 0\n}\n.l-about-item ._tit[data-v-397697d6]:after{content:'';display:block;width:1rem;margin:.125rem auto 0;height:.1rem;background:#ff784e\n}\n.l-about-item ._cont[data-v-397697d6]{margin:.75rem;font-size:.75rem\n}\n.l-about-item ._cont p[data-v-397697d6]{text-indent:2rem\n}\n.l-about-item ._cont ul[data-v-397697d6]{list-style-type:decimal;padding:0 0 0 1rem\n}"],sourceRoot:"webpack://"}])},277:function(t,e,i){var a=i(237);"string"==typeof a&&(a=[[t.id,a,""]]);i(3)(a,{});a.locals&&(t.exports=a.locals)},362:function(t,e,i){i(277);var a=i(1)(i(143),i(402),"data-v-397697d6",null);t.exports=a.exports},402:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-page"},[t.$device.isWechat?t._e():i("header",{staticClass:"mui-bar mui-bar-nav l-black"},[i("h1",{staticClass:"mui-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),i("a",{staticClass:"mui-icon mui-icon-arrowleft mui-pull-left _nav-back"})]),t._v(" "),i("div",{staticClass:"mui-content"},[i("div",{staticClass:"l-margin-tb"},[i("ul",{staticClass:"mui-table-view mui-table-view-chevron"},[i("li",{staticClass:"mui-table-view-cell",on:{click:t.refreshUserInfo}},[t._m(0)]),t._v(" "),i("li",{staticClass:"mui-table-view-cell",on:{click:t.notify}},[i("span",{staticClass:"mui-navigate-right"},[t._v("接收消息通知")]),t._v(" "),i("div",{staticClass:"mui-switch",class:{"mui-active":t.isNotice}},[i("div",{staticClass:"mui-switch-handle"})])])]),t._v(" "),i("div",{staticClass:"l-margin-tb l-text-center l-padding-btn l-bg-white l-link",on:{click:t.logout}},[t._v("退出登录")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"mui-navigate-right"},[t._v("同步微信信息"),i("span",{staticClass:"l-text-gray l-fs-m"},[t._v("（头像和昵称）")])])}]}}});
//# sourceMappingURL=28.64f622f07496b7f349b1.js.map