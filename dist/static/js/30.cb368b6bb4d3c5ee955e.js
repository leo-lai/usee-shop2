webpackJsonp([30,34],{140:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(10),r=s(i),l=a(25),o=s(l);e.default={data:function(){return{status:"-1",message:{1:{icon:"_icon-1",title:"申请已提交，正在处理",desc:"您的申请正在处理中，请耐心等待1-3个工作日"},2:{icon:"_icon-2",title:"处理成功",desc:"您的售后申请已经成功处理，退款金额将由工作人员通过转账的形式退还至您的个人账户。"},3:{icon:"_icon-3",title:"处理失败",desc:""},4:{icon:"_icon-3",title:"此订单不能申请售后",desc:""},5:{icon:"_icon-3",title:"超出申请时间",desc:"退款退货售后服务必须在确认收货后7天内提出申请"},6:{icon:"_icon-3",title:"超出申请售后时间",desc:"您已错过申请售后时间段(确认收货后7天内可退款退货，3个月内可换货)"}},imageCount:2,uploadImages:[],previewImages:[],formData:{orderId:"",orderInfoId:"",goodsId:"",goodsNumber:"",images:"",remark:"",afterSalesReason:"",afterSalesType:""}}},computed:{stepCls:function(){var t="";switch(this.status){case"1":t="l-service-step2";break;case"2":case"3":case"6":t="l-service-step3";break;default:t="l-service-step1"}return t},isApply:function(){return 0==this.status||5==this.status}},methods:{addImages:function(){var t=this;this.$server.chooseImage(this.imageCount-this.uploadImages.length).then(function(e){t.$server.uploadImage(e).then(function(e){var a=e.serverIds,s=e.images,i=e.localIds;t.previewImages=s,a.forEach(function(e,a){t.uploadImages.push({serverId:e,localId:i[a],image:s[a]})})})}).catch(function(e){t.$mui.alert("添加图片失败，请刷新重试！",function(){t.$url.reload()})})},delImage:function(t){this.uploadImages=this.uploadImages.filter(function(e){return e.serverId!==t.serverId})},previewImage:function(t){this.$server.previewImage(this.previewImages,t)},submit:function(){var t=this;if(!this.formData.afterSalesType)return void this.$mui.toptip("请选择售后服务");if(!this.formData.afterSalesReason)return void this.$mui.toptip("请选择申请售后的原因");var e=Number(this.formData.goodsNumber);return(0,o.default)(e)||e<=0?void this.$mui.toptip("请正确填写退货数量"):(this.formData.images=this.previewImages.join(","),this.$mui.showWaiting(),void this.$server.order.applyAfterSales(this.formData).then(function(){t.status="1"}).finally(function(){t.$mui.hideWaiting()}))}},mounted:function(){var t=this;this.$mui.showWaiting(),(0,r.default)(this.formData,this.$route.params),this.$server.order.checkAfterSales(this.$route.params).then(function(e){t.status=e.data,3==t.status&&(t.message[t.status].desc=e.message)}).finally(function(){t.$mui.hideWaiting()})}}},240:function(t,e,a){e=t.exports=a(2)(),e.push([t.id,'.l-form input[data-v-4c2babb4],.l-form select[data-v-4c2babb4]{margin:0;border:none}.l-form ._tr[data-v-4c2babb4]{padding:.5rem 0}.l-form ._tr>label[data-v-4c2babb4]{margin-right:.75rem}.l-upload-images[data-v-4c2babb4]{margin:0}.l-message ._icon-1[data-v-4c2babb4]:after{content:"\\E629";color:#ff784e}.l-message ._icon-2[data-v-4c2babb4]:after{content:"\\E7F8";color:#ff784e}.l-message ._icon-3[data-v-4c2babb4]:after{content:"\\E694";color:#ff784e}',"",{version:3,sources:["/./src/pages/goods-service.vue"],names:[],mappings:"AACA,+DAA+D,SAAS,WAAW,CAClF,AACD,8BAA8B,eAAe,CAC5C,AACD,oCAAoC,mBAAmB,CACtD,AACD,kCAAkC,QAAQ,CACzC,AACD,2CAA2C,gBAAgB,aAAa,CACvE,AACD,2CAA2C,gBAAgB,aAAa,CACvE,AACD,2CAA2C,gBAAgB,aAAa,CACvE",file:"goods-service.vue",sourcesContent:["\n.l-form select[data-v-4c2babb4],.l-form input[data-v-4c2babb4]{margin:0;border:none\n}\n.l-form ._tr[data-v-4c2babb4]{padding:.5rem 0\n}\n.l-form ._tr>label[data-v-4c2babb4]{margin-right:.75rem\n}\n.l-upload-images[data-v-4c2babb4]{margin:0\n}\n.l-message ._icon-1[data-v-4c2babb4]:after{content:'\\e629';color:#ff784e\n}\n.l-message ._icon-2[data-v-4c2babb4]:after{content:'\\e7f8';color:#ff784e\n}\n.l-message ._icon-3[data-v-4c2babb4]:after{content:'\\e694';color:#ff784e\n}"],sourceRoot:"webpack://"}])},281:function(t,e,a){var s=a(240);"string"==typeof s&&(s=[[t.id,s,""]]);a(3)(s,{});s.locals&&(t.exports=s.locals)},359:function(t,e,a){a(281);var s=a(1)(a(140),a(406),"data-v-4c2babb4",null);t.exports=s.exports},406:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"l-page"},[t.$device.isWechat?t._e():a("header",{staticClass:"mui-bar mui-bar-nav l-black"},[a("h1",{staticClass:"mui-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),a("a",{staticClass:"mui-icon mui-icon-arrowleft mui-pull-left _nav-back"})]),t._v(" "),t.isApply?a("footer",{staticClass:"mui-bar mui-bar-footer l-flex-hc"},[a("button",{staticClass:"mui-btn l-btn-main",attrs:{type:"button"},on:{click:t.submit}},[t._v("提交申请")])]):t._e(),t._v(" "),a("div",{staticClass:"mui-content"},[a("div",{staticClass:"l-bg-white l-flex-h",class:t.stepCls},[t._m(0),t._v(" "),a("div",{staticClass:"_line l-rest"}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"_line l-rest"}),t._v(" "),t._m(2)]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.isApply?a("div",[a("div",{staticClass:"l-form l-padding-lr l-margin-tb l-bg-white"},[a("div",{staticClass:"_tr _require l-border-b l-flex-hc"},[a("label",[t._v("售后服务")]),t._v(" "),a("div",{staticClass:"l-rest"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.afterSalesType,expression:"formData.afterSalesType"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.formData,"afterSalesType",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择售后类型")]),t._v(" "),a("option",{attrs:{value:"8"}},[t._v("换货")]),t._v(" "),t.status<5?a("option",{attrs:{value:"7"}},[t._v("退货退款")]):t._e()])])]),t._v(" "),a("div",{staticClass:"_tr _require l-border-b l-flex-hc"},[a("label",[t._v("申请原因")]),t._v(" "),a("div",{staticClass:"l-rest"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.afterSalesReason,expression:"formData.afterSalesReason"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.formData,"afterSalesReason",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择原因")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("产品质量原因")]),t._v(" "),t.status<5?a("option",{attrs:{value:"2"}},[t._v("7天无理由退换货")]):t._e(),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("其他")])])])]),t._v(" "),a("div",{staticClass:"_tr _require l-border-b l-flex-hc"},[a("label",[t._v("退货数量")]),t._v(" "),a("div",{staticClass:"l-rest"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.goodsNumber,expression:"formData.goodsNumber"}],attrs:{type:"tel",maxlength:"8",placeholder:"请正确填写数量"},domProps:{value:t.formData.goodsNumber},on:{input:function(e){e.target.composing||t.$set(t.formData,"goodsNumber",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"_tr _require l-border-b l-flex-hc"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.remark,expression:"formData.remark"}],staticClass:"l-textarea",attrs:{maxlength:"100",rows:"3",placeholder:"请填写其他备注"},domProps:{value:t.formData.remark},on:{input:function(e){e.target.composing||t.$set(t.formData,"remark",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"l-upload-images l-clearfix"},[a("ul",{staticClass:"_list"},t._l(t.uploadImages,function(e,s){return a("li",{staticClass:"_item"},[a("img",{attrs:{src:t.$utils.image.thumb(e.image,60,60)||e.localId,alt:""},on:{click:function(e){t.previewImage(s)}}}),t._v(" "),a("i",{on:{click:function(a){t.delImage(e)}}})])})),t._v(" "),t.uploadImages.length<t.imageCount?a("div",{staticClass:"_btn",on:{click:t.addImages}},[a("i",{staticClass:"l-icon"},[t._v("")]),t._v(" "),a("p",[t._v("添加图片")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.uploadImages.length>0,expression:"uploadImages.length > 0"}]},[t._v(t._s(t.uploadImages.length)+"/"+t._s(t.imageCount))])]):t._e()])]),t._v(" "),a("div",{staticClass:"l-margin l-fs-s l-text-gray"},[a("p",[t._v("1.最多上传2张图片")]),t._v(" "),a("p",[t._v("2.退货地址：广东省广州市天河区陶庄路5号空间3F009")]),t._v(" "),a("p",[t._v("3.邮寄费用：到付")])])]):t.status>0?a("div",{staticClass:"l-bg-white l-margin-tb"},[a("br"),a("br"),a("br"),t._v(" "),a("div",{staticClass:"l-text-center l-message"},[a("p",[a("i",{staticClass:"l-icon _large",class:t.message[t.status].icon}),a("br"),t._v(" "),a("b",[t._v(t._s(t.message[t.status].title))])]),t._v(" "),a("p",{staticClass:"l-text-gray l-fs-m",staticStyle:{padding:"1rem 1.6rem"},domProps:{innerHTML:t._s(t.message[t.status].desc)}})]),t._v(" "),a("div",{staticClass:"l-text-center l-margin"},[a("a",{staticClass:"mui-btn l-btn-main _m",staticStyle:{width:"10rem"},attrs:{href:"http://p.qiao.baidu.com/cps/chat?siteId=10424067&userId=23235048"}},[t._v("在线客服")])]),t._v(" "),a("br"),a("br"),a("br")]):t._e()])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_step"},[a("i",{staticClass:"_icon"}),t._v(" "),a("p",{staticClass:"_txt"},[t._v("售后申请")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_step"},[a("i",{staticClass:"_icon"}),t._v(" "),a("p",{staticClass:"_txt"},[t._v("申请处理中")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"_step"},[a("i",{staticClass:"_icon"}),t._v(" "),a("p",{staticClass:"_txt"},[t._v("处理结果")])])}]}}});
//# sourceMappingURL=30.cb368b6bb4d3c5ee955e.js.map