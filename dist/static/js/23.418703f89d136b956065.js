webpackJsonp([23,34],{154:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},data:function(){return{ordersState:{"-1":{cls:"l-text-gray",name:"已取消"},0:{cls:"",name:"全部"},1:{cls:"l-text-warn",name:"未付款"},2:{cls:"l-text-ok",name:"已付款"},3:{cls:"l-text-warn",name:"待发货"},4:{cls:"l-text-warn",name:"已发货"},5:{cls:"l-text-ok",name:"已收货"},6:{cls:"l-text-ok",name:"交易完成"}},orderInfo:null}},computed:{address:function(){return this.orderInfo&&this.orderInfo.address?this.orderInfo.address.split("|"):["","",""]},showToolbar:function(){return this.orderInfo&&2!=this.orderInfo.ordersState&&this.orderInfo.ordersState>0&&this.orderInfo.ordersState<6}},methods:{cancel:function(t){var e=this;this.$mui.confirm("确定取消订单？",function(t){1==t.index&&(e.$mui.showWaiting(),e.$server.order.changeStatus(e.orderInfo.orderId,"CANCEL").then(function(){e.$mui.toast("取消成功"),e.timeid=setTimeout(function(){e.$router.back()},2e3)}).finally(function(){e.$mui.hideWaiting()}))})},receive:function(t){var e=this;this.$mui.confirm("确定已收到商品？",function(t){1==t.index&&(e.$mui.showWaiting(),e.$server.order.changeStatus(e.orderInfo.orderId,"RECEIVE").then(function(){e.$mui.toast("收货成功"),e.getInfo()}).finally(function(){e.$mui.hideWaiting()}))})},express:function(t){this.$link("/order/express/"+this.orderInfo.orderId,"page-in")},evaluate:function(t){this.$storage.session.set("temp_evaluate_order",this.orderInfo),this.$link("/order/evaluate/"+this.orderInfo.orderId,"page-in")},pay:function(){this.$storage.session.set("temp_pay_info",{orderId:this.orderInfo.orderId,orderCode:this.orderInfo.orderCode,amount:this.orderInfo.amount}),window.location.replace(this.$server.getGrantUrl("/pay/?to=/order/list?tab=1"))},getInfo:function(){var t=this;this.$mui.showWaiting(),this.$server.order.getInfo(this.$route.params.id).then(function(e){var s=e.data;setTimeout(function(){t.orderInfo=s[0]||s},700)}).finally(function(){t.$mui.hideWaiting()})},afterSales:function(t,e){this.$link("/order/goods/service/"+this.orderInfo.orderId+"/"+t+"/"+e,"page-in")}},created:function(){this.getInfo()},beforeDestroy:function(){clearTimeout(this.timeid)}}},226:function(t,e,s){e=t.exports=s(2)(),e.push([t.id,".l-order-state[data-v-13ac83c7]{padding:.5rem 2.4rem;color:#fff;font-size:.85rem;background:linear-gradient(105deg,#ff784e,#f4524e)}.l-order-state .l-icon[data-v-13ac83c7]{font-size:1.6rem}","",{version:3,sources:["/./src/pages/order-info.vue"],names:[],mappings:"AACA,gCAAgC,qBAAqB,WAAW,iBAAiB,kDAAoD,CACpI,AACD,wCAAwC,gBAAgB,CACvD",file:"order-info.vue",sourcesContent:["\n.l-order-state[data-v-13ac83c7]{padding:.5rem 2.4rem;color:#fff;font-size:.85rem;background:linear-gradient(105deg, #ff784e, #f4524e)\n}\n.l-order-state .l-icon[data-v-13ac83c7]{font-size:1.6rem\n}"],sourceRoot:"webpack://"}])},264:function(t,e,s){var r=s(226);"string"==typeof r&&(r=[[t.id,r,""]]);s(3)(r,{});r.locals&&(t.exports=r.locals)},373:function(t,e,s){s(264);var r=s(1)(s(154),s(390),"data-v-13ac83c7",null);t.exports=r.exports},390:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-page"},[t.$device.isWechat?t._e():s("header",{staticClass:"mui-bar mui-bar-nav l-black"},[s("h1",{staticClass:"mui-title"},[t._v(t._s(t.$route.meta.title))]),t._v(" "),s("a",{staticClass:"mui-icon mui-icon-arrowleft mui-pull-left _nav-back"})]),t._v(" "),t.showToolbar?s("footer",{staticClass:"mui-bar mui-bar-footer l-flex-hc l-padding-lr"},[s("div",{staticClass:"l-rest"}),t._v(" "),1==t.orderInfo.ordersState?s("button",{staticClass:"mui-btn l-margin-l-m l-btn-white _s",on:{click:function(e){t.cancel(t.orderInfo.orderId)}}},[t._v("取消订单")]):t._e(),t._v(" "),1==t.orderInfo.ordersState?s("button",{staticClass:"mui-btn l-margin-l-m l-btn-main _s",on:{click:function(e){t.pay(t.orderInfo)}}},[t._v("去付款")]):t._e(),t._v(" "),t.orderInfo.ordersState>3&&t.orderInfo.ordersState<5?s("button",{staticClass:"mui-btn l-margin-l-m l-btn-white _s",on:{click:function(e){t.express(t.orderInfo.orderId)}}},[t._v("查看物流")]):t._e(),t._v(" "),4==t.orderInfo.ordersState?s("button",{staticClass:"mui-btn l-margin-l-m l-btn-main _s",on:{click:function(e){t.receive(t.orderInfo.orderId)}}},[t._v("确认收货")]):t._e(),t._v(" "),5==t.orderInfo.ordersState?s("button",{staticClass:"mui-btn l-margin-l-m l-btn-main _s",on:{click:function(e){t.evaluate(t.orderInfo)}}},[t._v("去评价")]):t._e()]):t._e(),t._v(" "),t.orderInfo?s("div",{staticClass:"mui-content l-fs-s"},[s("div",{staticClass:"l-bg-white"},[s("div",{staticClass:"l-order-state l-flex-hc"},[s("span",{staticClass:"l-rest"},[t._v(t._s(t.ordersState[t.orderInfo.ordersState].name))]),t._v(" "),t._m(0)]),t._v(" "),t.orderInfo.expressCode?s("div",{staticClass:"l-flex-hc l-padding l-link-arrow",on:{click:t.express}},[t._m(1),t._v(" "),s("div",{staticClass:"l-rest"},[s("p",[t._v("物流公司："+t._s(t.orderInfo.expressName))]),t._v(" "),s("p",[t._v("物流单号："+t._s(t.orderInfo.expressCode))])])]):t._e(),t._v(" "),s("div",{staticClass:"l-flex-hc l-padding l-border-t"},[t._m(2),t._v(" "),s("div",{staticClass:"l-rest"},[s("p",{staticClass:"l-margin-b-xs"},[s("span",{staticClass:"mui-pull-right"},[t._v(t._s(t.address[1]))]),t._v(" "),s("span",[t._v("收货人："+t._s(t.address[0]))])]),t._v(" "),s("p",{staticClass:"l-lh-s"},[t._v("收货地址："+t._s(t.address[2]))])])]),t._v(" "),s("div",{staticClass:"l-line-color"})]),t._v(" "),s("div",{staticClass:"l-margin-t"},[t._m(3),t._v(" "),s("div",{staticClass:"l-panel-group"},t._l(t.orderInfo.ordersInfo,function(e){return s("div",{staticClass:"_item l-flex-h"},[s("div",{staticClass:"l-thumb l-bg-contain l-margin-r",style:{"background-image":"url("+e.image+")"}}),t._v(" "),s("div",{staticClass:"l-rest"},[s("p",{staticClass:"l-text-wrap2"},[t._v(t._s(e.goodsName))]),t._v(" "),s("p",{staticClass:"l-margin-m1"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.colorName,expression:"goods.colorName"}],staticClass:"l-text-gray"},[t._v("款式："+t._s(e.colorName))])])]),t._v(" "),s("div",{staticClass:"l-text-right l-margin-l-m"},[s("p",[s("span",[s("b",{staticClass:"l-icon"},[t._v("")]),t._v(t._s(t._f("currency")(e.amount)))]),t._v(" "),s("span",{staticClass:"l-text-gray"},[t._v("x"+t._s(e.goodsNumber))])]),t._v(" "),t.orderInfo.ordersState>4?s("p",{staticClass:"l-margin-m1"},[s("button",{staticClass:"mui-btn l-margin-l-m l-btn-white _xs",on:{click:function(s){t.afterSales(e.orderInfoId,e.goodsId)}}},[t._v("申请售后")])]):t._e()])])}))]),t._v(" "),s("div",{staticClass:"l-margin-tb"},[s("div",{staticClass:"l-bg-white l-padding-btn l-border-b"},[s("p",{staticClass:"mui-pull-right"},[t._v("实付款："),s("span",{staticClass:"l-text-warn"},[s("b",{staticClass:"l-icon"},[t._v("")]),t._v(t._s(t._f("currency")(t.orderInfo.amount)))])]),t._v(" "),s("span",[t._v("订单总价："),s("b",{staticClass:"l-icon"},[t._v("")]),t._v(t._s(t._f("currency")(t.orderInfo.amount)))])]),t._v(" "),s("div",{staticClass:"l-bg-white l-padding-btn l-text-gray"},[s("p",[t._v("订单编号："+t._s(t.orderInfo.orderCode))]),t._v(" "),s("p",[t._v("创建时间："+t._s(t.orderInfo.startDate))]),t._v(" "),s("p",[t._v("付款时间："+t._s(t.orderInfo.payDate))]),t._v(" "),s("p",[t._v("发货时间："+t._s(t.orderInfo.deliverGoodsDate))]),t._v(" "),s("p",[t._v("收货时间："+t._s(t.orderInfo.goodsReceiptDate))])])])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"l-icon"},[t._v("")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-text-warn l-fs-l l-margin-r"},[s("i",{staticClass:"l-icon"},[t._v("")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-text-warn l-fs-l l-margin-r"},[s("i",{staticClass:"l-icon"},[t._v("")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"l-padding-btn l-bg-white l-border-b"},[s("span",[t._v("购买的商品")])])}]}}});
//# sourceMappingURL=23.418703f89d136b956065.js.map